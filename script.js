!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46114016-1","chunkof.net"),ga("send","pageview");var MyUt=[];!function(){var a=Math;MyUt.rgb=function(a,b,c){var d=""+a+","+b+","+c;return"#"+d.match(/\d+/g).map(function(a){return("0"+parseInt(a).toString(16)).slice(-2)}).join("")},MyUt.DegToRad=function(a){return a*(Math.PI/180)},MyUt.DegToV=function(a){var b=MyUt.DegToRad(a);return MyUt.RadToV(b)},MyUt.RadToV=function(a){var b=Math.cos(a),c=Math.sin(a);return{x:b,y:c}},MyUt.RadToDeg=function(a){var b=180*a/Math.PI;return b},MyUt.GetRad=function(a,b,c,d){var e=Math.atan2(d-b,c-a);return e},MyUt.GetNormalV=function(a,b,c,d){var e=MyUt.GetRad(a,b,c,d);return{x:Math.cos(e),y:Math.sin(e)}},MyUt.RndRangeFloor=function(b,c){var d=a.floor(MyUt.RndRangeNoFloor(b,c+1));return d},MyUt.RndRangeNoFloor=function(b,c){var d=a.random()*(c-b)+b;return d},MyUt.GetLen=function(b,c,d,e){var f=a.sqrt(MyUt.GetLenSq(b,c,d,e));return f},MyUt.GetLenSq=function(b,c,d,e){var f=a.pow(d-b,2)+a.pow(e-c,2);return f},MyUt.GetVector=function(b,c){return a.sqrt(b*b+c*c)},MyUt.LimitVector=function(a,b,c){var d=MyUt.GetVector(a,b),e=1;return d>c&&(e=c/d),{vX:a*e,vY:b*e}},MyUt.GetRefVector=function(a,b){var c=function(a,b){return a.vX*b.vX+a.vY*b.vY},d=2*c(a,b);return{vX:a.vX-d*b.vX,vY:a.vY-d*b.vY}},MyUt.IsUndefined=function(a){return"undefined"==typeof a},MyUt.OR=function(a,b){return"undefined"==typeof a?b:a},MyUt.GetValue=function(a){return 1==_.isFunction(a)?a():a}}(),window.MyDef=[],function(){MyDef.fps=40,MyDef.bgColor=MyUt.rgb(38,38,38),MyDef.damageColor="White",MyDef.healColor="DeepSkyBlue",MyDef.healColorShadow="#000671",MyDef.healColorLight="#AFDFFF",MyDef.eaterColor="#F692BF",MyDef.eaterColorShadow="#7F1115",MyDef.storageName="__rain_eater__",MyDef.getRank=function(a){return a>250?"The Eater":a>150?"Master":a>100?"Great":a>60?"Good":a>40?"Normal":"Ummm"}}(),function(){"use strict";var a;window.MyDef.Button=a=function(a){this.initialize(a)},a.prototype=new createjs.Shape,a.prototype._parentInitialize=a.prototype.initialize,a.prototype._parentTick=a.prototype._tick,a.prototype.initialize=function(){this._parentInitialize()},a.prototype._tick=function(){this._parentTick(),createjs.Ticker.getPaused()||this.tickImpl()},a.prototype.tickImpl=function(){},a.prototype.setCallBack=function(a){this.callBack=a;var b=this;this.addEventListener("click",function(a){b.callBack(a)})}}(),function(){"use strict";window.MyDef.TextButton=a=function(a){this.initialize(a)};var a;a.prototype=new createjs.Container,a.prototype._parentInitialize=a.prototype.initialize,a.prototype._parentTick=a.prototype._tick,a.prototype.initialize=function(a){this._parentInitialize();var b=a.w,c=a.h,d=MyUt.OR(a.bg_color,"white"),e=MyUt.OR(a.txt_color,"black");this.bg=new createjs.Shape,this.bg.graphics.beginFill(d).beginStroke("black").setStrokeStyle(3).drawRoundRect(0,0,b,c,20),this.label=new createjs.Text(a.text,"bold 40px Arial",e),this.label.textAlign="center",this.label.textBaseline="middle",this.label.x=b/2,this.label.y=c/2,this.addChild(this.bg,this.label)},a.prototype._tick=function(){this._parentTick(),createjs.Ticker.getPaused()||this.tickImpl()},a.prototype.tickImpl=function(){},a.prototype.setCallBack=function(a){this.callBack=a;var b=this;this.addEventListener("click",function(a){b.callBack(a)})}}(),function(){"use strict";var a=function(a,b,c,d,e,f){this.initialize(a,b,c,d,e,f)};MyDef.edged_text=a;var b=createjs.Container;a.prototype=new b,a.prototype.initialize=function(a,c,d,e,f,g){b.prototype.initialize.call(this),e=MyUt.OR(e,"black"),f=MyUt.OR(f,2),g=MyUt.OR(g,"left");var h={};h=this.addChild(new createjs.Text(a,c,e)),h.x+=f,h.textAlign=g,h=this.addChild(new createjs.Text(a,c,e)),h.x-=f,h.textAlign=g,h=this.addChild(new createjs.Text(a,c,e)),h.y+=f,h.textAlign=g,h=this.addChild(new createjs.Text(a,c,e)),h.y-=f,h.textAlign=g,h=this.addChild(new createjs.Text(a,c,d)),h.textAlign=g},a.prototype._tick=function(){createjs.Ticker.getPaused()||b.prototype._tick.call(this)}}(),window.MyDef.Data={},function(){var a=function(){if(!store.enabled)return null;var a=store.get(MyDef.storageName);return a||(a={version:"001",stage_info:{}}),a},b=function(a){store.enabled&&store.set(MyDef.storageName,a)},c=MyDef.Data,d=a();c.enabled=function(){return store.enabled},c.setStageBestScore=function(a,c){store.enabled&&(1==MyUt.IsUndefined(d.stage_info[a])&&(d.stage_info[a]={}),d.stage_info[a].best_score=c,b(d))},c.getStageBestScore=function(a){return store.enabled?1==MyUt.IsUndefined(d.stage_info[a])?0:d.stage_info[a].best_score?d.stage_info[a].best_score:0:null}}(),function(){"use strict";var a=function(a){this.initialize(a)};window.MyDef.Ball=a;var b=createjs.Shape;a.prototype=new b,MyDef.Ball.Type={DAMAGE:0,HEAL:1},a.prototype.initialize=function(a){b.prototype.initialize.call(this),this.vX=0,this.vY=0,this.rad=a.rad,this.type=a.type,MyDef.Ball.Type.HEAL==this.type?(this.symbolColor=MyDef.healColor,this.subColor=MyDef.healColorShadow):(this.symbolColor=MyDef.damageColor,this.subColor="black");var c=60;this.minX=0-this.rad-c,this.maxX=MyGlobal.stage.width+this.rad+c,this.minY=0-this.rad-c,this.maxY=MyGlobal.stage.height+this.rad+c,this.graphics.beginFill(this.symbolColor).beginStroke(this.subColor).setStrokeStyle(2).drawCircle(0,0,this.rad);var d=this.rad+2;this.cache(-d,-d,2*d,2*d),this._border_len_sq=Math.pow(this.rad+MyGlobal.player.rad,2)},a.prototype._tick=function(){if(!createjs.Ticker.getPaused()){if(b.prototype._tick.call(this),this.x<this.minX||this.x>this.maxX||this.y<this.minY||this.y>this.maxY)return void MyGlobal.stage.removeChild(this);this.x+=this.vX,this.y+=this.vY,this.collision()}},a.prototype.collision=function(){var a=MyGlobal.player;if(a.isHittable()){var b=MyUt.GetLenSq(this.x,this.y,a.x,a.y);this._border_len_sq>b+.1&&(a.notifyCollision(this),MyDef.Ball.Type.HEAL==this.type&&MyGlobal.stage.removeChild(this))}}}(),function(){var a;window.MyDef.Smog=a=function(){this.initialize()},a.prototype=new createjs.Shape,a.prototype._parentInitialize=a.prototype.initialize,a.prototype._parentTick=a.prototype._tick,a.prototype.vX=0,a.prototype.vY=0,a.prototype.initialize=function(){this._parentInitialize(),this.graphics.beginFill(MyDef.eaterColor).drawCircle(0,0,5),this.alpha=.5},a.prototype._tick=function(){this._parentTick(),createjs.Ticker.getPaused()||this.tickImpl()},a.prototype.tickImpl=function(){this.x+=this.vX,this.y+=this.vY;var a=Math.random()+.1,b=Math.random()+.1;this.scaleX+=.02*a,this.scaleY+=.02*b,this.alpha-=.005*(a+b)/2,this.alpha<.001&&MyGlobal.stage.removeChild(this)}}(),function(){window.MyDef.StageManager=a=function(a){this.initialize(a)};var a;a.prototype=new createjs.Container,a.prototype._parentInitialize=a.prototype.initialize,a.prototype._parentTick=a.prototype._tick;var b="white",c="red";a.prototype.initialize=function(a){this._parentInitialize(),this.stage_name=a.stage_name,this.isGameOver=!1,this.waitDispGameOver=!1,this.remainTime=60,this.remainTimeLabel=new createjs.Text("remain","bold 28px Arial","DarkGray"),this.remainTimeLabel.textAlign="center",this.remainTimeLabel.x=.9*MyGlobal.stage.canvas.width,this.addChild(this.remainTimeLabel),this.remainTimeText=new createjs.Text(this.remainTime.toFixed(2),"bold 54px Arial",b),this.remainTimeText.y=24,this.remainTimeText.x=.9*MyGlobal.stage.canvas.width,this.remainTimeText.textAlign="center",this.addChild(this.remainTimeText),this.passedTime=0,this.passedTimeLabel=new createjs.Text("score","bold 22px Arial","DarkGray"),this.passedTimeLabel.x=80,this.passedTimeLabel.textAlign="center",this.addChild(this.passedTimeLabel),this.passedTimeText=new createjs.Text(this.passedTime.toFixed(2),"bold 46px Arial","white"),this.passedTimeText.y=24,this.passedTimeText.x=80,this.passedTimeText.textAlign="center",this.addChild(this.passedTimeText),this.self_destruct_remain=-1;var c=new createjs.Text(this.stage_name,"bold 38px Arial","Gray");c.y=MyGlobal.stage.height-42,c.x=4,c.textAlign="left",this.addChild(c)},a.prototype._tick=function(){this._parentTick(),createjs.Ticker.getPaused()||this.tickImpl()},a.prototype.tickImpl=function(){if(!this.isGameOver){var a=1/MyDef.fps;this.remainTime=Math.max(0,this.remainTime-a),this.remainTimeText.text=this.remainTime.toFixed(2),this.remainTimeText.color=10<this.remainTime?b:c,this.passedTime+=a,this.passedTimeText.text=this.passedTime.toFixed(2),this._procGameOver()}},a.prototype.notifyCollision=function(a){var b={};switch(a.type){case MyDef.Ball.Type.DAMAGE:this.remainTime-=10,b=MyGlobal.stage.addChild(new createjs.Text("-10","bold  80px Arial",a.symbolColor)),b.alpha=.3;break;case MyDef.Ball.Type.HEAL:this.remainTime+=10,b=MyGlobal.stage.addChild(new createjs.Text("+10","bold 200px Arial",a.symbolColor)),b.alpha=.6}b.x=MyGlobal.player.x,b.y=MyGlobal.player.y,b.textAlign="center",b._tick=function(){this.alpha-=.02,this.y-=2,.01>this.alpha&&MyGlobal.stage.removeChild(this)},this._procGameOver()},a.prototype.selfDestruct=function(){0!=this.remainTime&&(this.self_destruct_remain=this.remainTime,this.remainTime=0)},a.prototype._procGameOver=function(){0==this.isGameOver&&this.remainTime<=0&&(this.remainTime=0,this.isGameOver=!0,this.waitDispGameOver=!0,MyGlobal.player.dead(),this.remainTimeText.text=this.remainTime.toFixed(2),setTimeout(function(){MyGlobal.stageManager._displayGameOver()},1e3))},a.prototype._displayGameOver=function(){var a=this.passedTime;a=Math.floor(100*a)/100;var b=a.toFixed(2),c=this.stage_name,d=MyDef.getRank(this.passedTime),e=MyGlobal.stage,f=60,g=e.addChild(new MyDef.edged_text(c,"bold 40px Arial","white","black",3,"center"));g.x=MyGlobal.stage.centerX,g.y=f,f+=60,g=e.addChild(new MyDef.edged_text("Game Over","bold 56px Arial","white","black",3,"center")),g.x=MyGlobal.stage.centerX,g.y=f,f+=100,g=e.addChild(new MyDef.edged_text("Score","bold 28px Arial","white","black",2,"center")),g.textAlign="center",g.x=MyGlobal.stage.centerX-100,g.y=f,f+=25,g=e.addChild(new MyDef.edged_text(b,"bold 88px Arial","white","black",3,"center")),g.x=MyGlobal.stage.centerX,g.y=f,f+=92,g=e.addChild(new MyDef.edged_text(d,"bold 28px Arial","white","black",2,"center")),g.x=MyGlobal.stage.centerX,g.y=f,f+=32;var h="";0<this.self_destruct_remain&&(h=" self destruct(remain"+this.self_destruct_remain.toFixed(2)+")",g=e.addChild(new MyDef.edged_text(h,"bold 26px Arial","white","black",2,"center")),g.x=MyGlobal.stage.centerX,g.y=f,f+=28);var i=MyDef.Data.getStageBestScore(this.stage_name);null!==i&&a>i&&(MyDef.Data.setStageBestScore(this.stage_name,a),g=e.addChild(new MyDef.edged_text("Best Score!!!!","bold 26px Arial",MyDef.healColor,"black",2,"center")),g.textAlign="center",g.x=MyGlobal.stage.centerX,g.y=f),f=MyGlobal.stage.height-290,g=e.addChild(new MyDef.TextButton({text:"Retry(R)",w:180,h:90})),g.x=MyGlobal.stage.centerX-180-40,g.y=f,g.setCallBack(function(){createjs.Ticker.setPaused(!1),MyGlobal.retry()}),g=e.addChild(new MyDef.TextButton({text:"Back",w:180,h:90})),g.x=MyGlobal.stage.centerX+40,g.y=f,g.setCallBack(function(){createjs.Ticker.setPaused(!1),MyDef.EndGame(),MyDef.StartSelectStage()}),f+=136,g=e.addChild(new MyDef.TextButton({text:"Tweet",w:180,h:90,bg_color:MyDef.healColor})),g.x=MyGlobal.stage.centerX-90,g.y=f,g.setCallBack(function(){var a="http://twitter.com/share?url=http://chunkof.net/rain_eater/&hashtags=RainEater&text=[stage:"+c+"] "+b+" pt("+d+")."+h;window.open(a,"Tweet Rain Eater Score")}),this.waitDispGameOver=!1}}(),function(){"use strict";var a=function(a){this.initialize(a)};window.MyDef.PauseButton=a;var b=MyDef.Button;a.prototype=new b,a.prototype.initialize=function(){b.prototype.initialize.call(this),this.rad=46;var a=createjs.Ticker.getPaused();this.old_paused=a,this.drawBtn(a),this.setCallBack(function(){var a=createjs.Ticker.getPaused();createjs.Ticker.setPaused(!a)})},a.prototype._tick=function(){b.prototype._tick.call(this);var a=createjs.Ticker.getPaused();this.old_paused!=a&&(this.old_paused=a,this.drawBtn(a))},a.prototype.drawBtn=function(a){a?this.drawResumeBtn():this.drawPauseBtn()},a.prototype.drawPauseBtn=function(){this.uncache();var a=this.graphics;a.clear(),a.beginFill(MyDef.bgColor).drawCircle(0,0,this.rad),a.beginStroke("gray").setStrokeStyle(6).drawCircle(0,0,this.rad);var b=17,c=10;a.beginStroke("white"),a.moveTo(-c,-b),a.lineTo(-c,+b),a.moveTo(+c,-b),a.lineTo(+c,+b);var d=this.rad+6;this.cache(-d,-d,2*d,2*d)},a.prototype.drawResumeBtn=function(){this.uncache();var a=this.graphics;a.clear(),a.beginFill(MyDef.bgColor).drawCircle(0,0,this.rad),a.beginStroke("gray").setStrokeStyle(6).drawCircle(0,0,this.rad),a.beginStroke("white").setStrokeStyle(5,"round","round");var b=-17,c=17,d=-12,e=17;a.moveTo(d,b),a.lineTo(d,c),a.moveTo(d,b),a.lineTo(e,0),a.moveTo(d,c),a.lineTo(e,0);var f=this.rad+6;this.cache(-f,-f,2*f,2*f)}}(),function(){"use strict";var a;window.MyDef.PlayerBall=a=function(){this.initialize()},a.prototype=new createjs.Shape,a.prototype._parentInitialize=a.prototype.initialize,a.prototype._parentTick=a.prototype._tick;var b={IDLE:0,ACCELE:1,DUMMY:-1},c={IDLE:0,DAMAGE:1,HEAL:2},d=.995;a.prototype.vX=0,a.prototype.vY=0,a.prototype.actionWait=0,a.prototype.actionType=b.IDLE,a.prototype.vRotation=8,a.prototype.state=c.IDLE,a.prototype.stateRemainCount=0,a.prototype.stateCount=0,a.prototype.isDead=!1,a.prototype.rad=8,a.prototype.pipe_len=22,a.prototype.pipe_bold=4,a.prototype.initialize=function(){this._parentInitialize(),this.drawShapeIdle()},a.prototype.drawShapeIdle=function(){0==this.stateCount&&this.drawShapeImpl(MyDef.eaterColorShadow,MyDef.eaterColor)},a.prototype.drawShapeDamage=function(){0==this.stateCount&&this.graphics.clear(),3==this.stateCount&&this.drawShapeImpl(MyDef.eaterColorShadow,MyDef.eaterColor)},a.prototype.drawShapeHeal=function(){0==this.stateCount&&this.drawShapeImpl(MyDef.healColorShadow,MyDef.healColor)},a.prototype.drawShapeImpl=function(a,b){this.uncache(),this.graphics.clear();var c=this.rad;this.graphics.beginFill(b).beginStroke(a).setStrokeStyle(1).drawCircle(0,0,c+.3).endStroke(),this.graphics.beginFill(a).drawCircle(0,0,.7*c);var d=this.pipe_bold,e=this.pipe_len;this.graphics.beginFill(b).beginStroke(a).setStrokeStyle(1).drawRect(0,-(d/2),e,d).endStroke(),this.graphics.beginFill(b).drawCircle(0,0,.5*c),this.graphics.beginFill(a).drawCircle(0,0,.2*c)},a.prototype.isHittable=function(){return this.isDead?!1:c.DAMAGE!=this.state},a.prototype._tick=function(){this._parentTick(),createjs.Ticker.getPaused()||this.tickImpl()},a.prototype.tickImpl=function(){this.isDead||(this.updateVector(),this.updatePos(),this.doAction(),this.updateState(),this.updateDraw())},a.prototype.updateDraw=function(){if(!this.isDead)switch(this.state){case c.IDLE:this.drawShapeIdle();break;case c.DAMAGE:this.drawShapeDamage();break;case c.HEAL:this.drawShapeHeal()}},a.prototype.setStateIdle=function(){this.state=c.IDLE,this.stateCount=0,this.stateRemainCount=0},a.prototype.setStateDamage=function(){this.state=c.DAMAGE,this.stateCount=0,this.stateRemainCount=MyDef.fps/6},a.prototype.setStateHeal=function(){this.state=c.HEAL,this.stateCount=0,this.stateRemainCount=MyDef.fps/4},a.prototype.updateState=function(){c.IDLE!=this.state&&(++this.stateCount,--this.stateRemainCount,0<this.stateRemainCount||this.setStateIdle())},a.prototype.updateVector=function(){this.vX*=d,this.vY*=d;var a=MyUt.LimitVector(this.vX,this.vY,8);this.vX=a.vX,this.vY=a.vY},a.prototype.updatePos=function(){this.x+=this.vX,this.y+=this.vY},a.prototype.doAction=function(){switch(this.actionWait=Math.max(0,this.actionWait-1),this.actionType){case b.IDLE:this.rotation=(this.rotation+this.vRotation)%360;break;case b.ACCELE:this.doAccele()}},a.prototype.idle=function(){this.actionType=b.IDLE,this.updateDraw()},a.prototype.accele=function(){this.actionType=b.ACCELE},a.prototype.notifyCollision=function(a){switch(a.type){case MyDef.Ball.Type.DAMAGE:createjs.Sound.play("damage"),this.setStateDamage(),this._reflectCollision(a),MyGlobal.stageManager.notifyCollision(a);break;case MyDef.Ball.Type.HEAL:createjs.Sound.play("gain"),this.setStateHeal(),MyGlobal.stageManager.notifyCollision(a)}this.updateDraw()},a.prototype._reflectCollision=function(a){var b=MyUt.GetRad(this.x,this.y,a.x,a.y),c=Math.cos(b),d=Math.sin(b),e=MyUt.GetLen(a.x,a.y,this.x,this.y),f=this.rad+a.rad-e;this.x-=f*c*3,this.y-=f*d*3;var g=1,h={vX:g*c,vY:g*d},i=MyUt.GetRefVector(this,h);this.vX=i.vX+.5*a.vX+.5*this.vX,this.vY=i.vY+.5*a.vY+.5*this.vY},a.prototype.doAccele=function(){if(0==this.actionWait){createjs.Sound.play("accele",{interrupt:createjs.Sound.INTERRUPT_EARLY,volume:.4}),this.actionWait=6;var a=MyUt.DegToV(this.rotation),b=MyGlobal.stage.addChild(new MyDef.Smog);b.x=this.x+this.pipe_len*a.x,b.y=this.y+this.pipe_len*a.y,b.vX=.5*a.x,b.vY=.5*a.y;var c=1.5;this.vX+=a.x*-c,this.vY+=a.y*-c}},a.prototype.dead=function(){this.isDead=!0,createjs.Sound.play("destruction");var a=MyGlobal.stage.addChild(new createjs.Shape);a.x=this.x,a.y=this.y,a.rad=.5*this.rad,a.alpha=.5,a._tick=function(){a.alpha-=.04,a.rad+=10,a.graphics.clear(),a.graphics.beginFill(MyDef.eaterColor).drawCircle(0,0,this.rad),.01>this.alpha&&MyGlobal.stage.removeChild(this)},this.graphics.clear()}}(),function(){var a;window.MyDef.Border=a=function(a){this.initialize(a)},a.prototype=new createjs.Shape,a.prototype._parentInitialize=a.prototype.initialize,a.prototype._parentTick=a.prototype._tick;var b=1;a.prototype.initialize=function(a){this._parentInitialize(),this.x=a.x,this.y=a.y,this.rad=a.rad,this.rad2=a.rad2;var b=3;this.graphics.beginStroke(a.color).setStrokeStyle(b).drawCircle(0,0,this.rad),this.graphics.beginStroke(a.color2).setStrokeStyle(b).drawCircle(0,0,this.rad2);var c=this.rad2+b;this.cache(-c,-c,2*c,2*c)},a.prototype._tick=function(){this._parentTick(),createjs.Ticker.getPaused()||this.tickImpl()},a.prototype.tickImpl=function(){var a=MyGlobal.player,c=MyUt.GetLen(this.x,this.y,a.x,a.y),d=this.rad-a.rad;if(!(d>c)){var e=MyUt.GetRad(a.x,a.y,this.x,this.y),f=Math.cos(e),g=Math.sin(e),h=c-d;a.x+=h*f,a.y+=h*g;var i={vX:b*f,vY:b*g},j=MyUt.GetRefVector(a,i);a.vX=j.vX,a.vY=j.vY,createjs.Sound.play("collision",{volume:.2})}}}(),MyDef.touchShooter=[],function(){MyDef.touchShooter.shot=function(a){var b=a.stageX,c=a.stageY,d=MyGlobal.stage.addChild(new MyDef.Ball);d.x=b,d.y=c,d.vX=2*MyUt.RndRangeFloor(-1,1),d.vY=2*MyUt.RndRangeFloor(-1,1)}}(),function(){"use strict";var a=function(a){this.initialize(a)};MyDef.Shooter=a;var b=createjs.Shape;a.prototype=new b,a.prototype.initialize=function(a){b.prototype.initialize.call(this),this.baseCircle=a.circle,this.degree=a.degree,this.logics=[],this.aim_vX=1,this.aim_vY=1,this.graphics.beginFill("gray").drawCircle(0,0,12),this.updatePosByDeg(this.degree)},a.prototype._tick=function(){if(!createjs.Ticker.getPaused()){var a=this;_.each(this.logics,function(b){b.execute(a)}),this.updatePosByDeg(this.degree)}},a.prototype.updatePosByDeg=function(a){var b=MyUt.DegToV(a),c=this.baseCircle.rad2;this.x=c*b.x+this.baseCircle.x,this.y=c*b.y+this.baseCircle.y}}(),MyDef.logic={},function(){"use strict";var a=function(a){this.initialize(a)};MyDef.logic.AimTarget=a,a.prototype.initialize=function(a){this.target=a},a.prototype.execute=function(a){var b=this.target,c=MyUt.GetNormalV(a.x,a.y,b.x,b.y);a.aim_vX=c.x,a.aim_vY=c.y}}(),function(){"use strict";var a=function(a){this.initialize(a)};MyDef.logic.Shoot=a,a.prototype.initialize=function(a){this.interval=a.interval,this.shots=a.shots,this.interval_remain=this.interval,this.shotsper_total=this._getShotsPerTotal(this.shots),this.shotsper_remain=0,this._remakeRemainPer()},a.prototype.execute=function(a){if(1!=MyGlobal.stageManager.isGameOver){if(0<this.interval_remain)return void--this.interval_remain;this.interval_remain=this.interval;var b=this._getShotsPerNumber(),c=0,d=null;if(jQuery.each(this.shots,function(a,e){return c+=e.remain_per,b>=c?!0:(d=e,e.remain_per-=1,!1)}),null===d)return void console.log("cannot specify");this.shotsper_remain-=1,1>this.shotsper_remain&&this._remakeRemainPer(),this._executeShot(a,d)}},a.prototype._executeShot=function(a,b){var c={},d=MyUt.GetValue(b.speed);c.type=MyUt.GetValue(b.type),c.rad=MyUt.GetValue(b.rad);var e=MyGlobal.stage.addChild(new MyDef.Ball(c));e.x=a.x,e.y=a.y,e.vX=a.aim_vX*d,e.vY=a.aim_vY*d},a.prototype._getShotsPerTotal=function(a){var b=0;return _.each(a,function(a){b+=a.per}),b},a.prototype._getShotsPerNumber=function(){var a=MyUt.RndRangeFloor(0,this.shotsper_remain-1);return a},a.prototype._remakeRemainPer=function(){jQuery.each(this.shots,function(a,b){b.remain_per=b.per}),this.shotsper_remain=this.shotsper_total}}(),function(){"use strict";var a=function(a){this.initialize(a)};MyDef.logic.Move=a,a.prototype.initialize=function(a){this.vDegree=a},a.prototype.execute=function(a){a.degree=(a.degree+this.vDegree)%360}}(),function(){"use strict";var a=MyDef.StartGame=function(a){var c=MyGlobal.stage;MyGlobal.retry=d,MyGlobal.current_stage_name=a;var g=MyGlobal.player=c.addChild(new MyDef.PlayerBall);g.x=c.centerX,g.y=c.centerY;{var h=c.addChild(new MyDef.Border({x:c.centerX,y:c.centerY,rad:360,color:"gray",rad2:380,color2:"gray"})),i={},j={},k={},l={},m={},n=0;MyDef.CircularShooter,MyDef.ConstantShooter}switch(a){case"A-1":i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.3*MyDef.fps,shots:[{per:92,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:8,type:MyDef.Ball.Type.HEAL,speed:.6,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:90})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.3*MyDef.fps,shots:[{per:92,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:8,type:MyDef.Ball.Type.HEAL,speed:.6,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:270})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.3*MyDef.fps,shots:[{per:92,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:8,type:MyDef.Ball.Type.HEAL,speed:.6,rad:7.5}]}));break;case"A-2":i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.2*MyDef.fps+1,shots:[{per:97,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:3,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:90})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.2*MyDef.fps+0,shots:[{per:97,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:3,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:180})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.2*MyDef.fps-1,shots:[{per:96,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:4,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:270})),i.logics.push(new MyDef.logic.Move(.5)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.2*MyDef.fps-2,shots:[{per:96,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:4,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]}));break;case"B-2":i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.8)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:.7*MyDef.fps+1,shots:[{per:97,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:3,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:20})),i.logics.push(new MyDef.logic.Move(.8)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:.7*MyDef.fps+1,shots:[{per:97,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:3,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:60})),i.logics.push(new MyDef.logic.Move(.8)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:.7*MyDef.fps-1,shots:[{per:97,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:7.5},{per:3,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]}));break;case"C-3":var o=function(){return MyUt.RndRangeFloor(5,34)};i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.7)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.2*MyDef.fps+0,shots:[{per:96,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:o},{per:4,type:MyDef.Ball.Type.HEAL,speed:.7,rad:o}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:90})),i.logics.push(new MyDef.logic.Move(.7)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.2*MyDef.fps+1,shots:[{per:96,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:o},{per:4,type:MyDef.Ball.Type.HEAL,speed:.7,rad:o}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:180})),i.logics.push(new MyDef.logic.Move(.7)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.1*MyDef.fps+0,shots:[{per:96,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:o},{per:4,type:MyDef.Ball.Type.HEAL,speed:.7,rad:o}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:270})),i.logics.push(new MyDef.logic.Move(.7)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.1*MyDef.fps+1,shots:[{per:97,type:MyDef.Ball.Type.DAMAGE,speed:1.3,rad:o},{per:3,type:MyDef.Ball.Type.HEAL,speed:.7,rad:o}]}));break;case"labo":i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.7)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.7*MyDef.fps,shots:[{per:80,type:MyDef.Ball.Type.DAMAGE,speed:1,rad:7.5},{per:20,type:MyDef.Ball.Type.HEAL,speed:.5,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:90})),i.logics.push(new MyDef.logic.Move(.7)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.7*MyDef.fps,shots:[{per:80,type:MyDef.Ball.Type.DAMAGE,speed:1.2,rad:7.5},{per:20,type:MyDef.Ball.Type.HEAL,speed:.5,rad:7.5}]}));break;case"labo_2_3":n=2.8,i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.1)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:.9*MyDef.fps,shots:[{per:93,type:MyDef.Ball.Type.DAMAGE,speed:n,rad:7.5},{per:7,type:MyDef.Ball.Type.HEAL,speed:n,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:30})),i.logics.push(new MyDef.logic.Move(.1)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:.9*MyDef.fps+1,shots:[{per:100,type:MyDef.Ball.Type.DAMAGE,speed:n,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:60})),i.logics.push(new MyDef.logic.Move(.1)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:1.3*MyDef.fps,shots:[{per:100,type:MyDef.Ball.Type.DAMAGE,speed:n,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:180})),i.logics.push(new MyDef.logic.Move(.1)),i.logics.push(new MyDef.logic.AimTarget(g)),i.logics.push(new MyDef.logic.Shoot({interval:.9*MyDef.fps+2,shots:[{per:93,type:MyDef.Ball.Type.DAMAGE,speed:n,rad:7.5},{per:7,type:MyDef.Ball.Type.HEAL,speed:n,rad:7.5}]}));break;case"labo_":i=c.addChild(new MyDef.Shooter({circle:h,degree:180})),i.logics.push(new MyDef.logic.Move(.01)),i.logics.push(new MyDef.logic.AimAngle({start:-75,end:75,add_abs:.4})),i.logics.push(new MyDef.logic.Shoot({interval:.8*MyDef.fps+1,shots:[{per:93,type:MyDef.Ball.Type.DAMAGE,speed:1.2,rad:7.5},{per:7,type:MyDef.Ball.Type.HEAL,speed:1.2,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:90})),i.logics.push(new MyDef.logic.Move(.01)),i.logics.push(new MyDef.logic.AimAngle({start:75,end:-75,add_abs:.4})),i.logics.push(new MyDef.logic.Shoot({interval:.8*MyDef.fps+1,shots:[{per:93,type:MyDef.Ball.Type.DAMAGE,speed:1.2,rad:7.5},{per:7,type:MyDef.Ball.Type.HEAL,speed:1.2,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:0})),i.logics.push(new MyDef.logic.Move(.01)),i.logics.push(new MyDef.logic.AimAngle({start:-75,end:75,add_abs:.4})),i.logics.push(new MyDef.logic.Shoot({interval:.8*MyDef.fps+2,shots:[{per:93,type:MyDef.Ball.Type.DAMAGE,speed:1.2,rad:7.5},{per:7,type:MyDef.Ball.Type.HEAL,speed:1.2,rad:7.5}]})),i=c.addChild(new MyDef.Shooter({circle:h,degree:270})),i.logics.push(new MyDef.logic.Move(.01)),i.logics.push(new MyDef.logic.AimAngle({start:75,end:-75,add_abs:.4})),i.logics.push(new MyDef.logic.Shoot({interval:.8*MyDef.fps+2,shots:[{per:93,type:MyDef.Ball.Type.DAMAGE,speed:1.2,rad:7.5},{per:7,type:MyDef.Ball.Type.HEAL,speed:1.2,rad:7.5}]}));break;case"laboC":j=c.addChild(new MyDef.Shooter({circle:h,degree:0})),j.logics.push(new MyDef.logic.Move(.02)),j.logics.push(new MyDef.logic.Shoot({interval:2.6*MyDef.fps+1,shots:[{per:100,type:MyDef.Ball.Type.DAMAGE,speed:1,rad:24}]})),k=c.addChild(new MyDef.Shooter({circle:h,degree:90})),k.logics.push(new MyDef.logic.Move(.2)),k.logics.push(new MyDef.logic.Shoot({interval:8*MyDef.fps,shots:[{per:100,type:MyDef.Ball.Type.HEAL,speed:.7,rad:7.5}]})),l=c.addChild(new MyDef.Shooter({circle:h,degree:270})),l.logics.push(new MyDef.logic.Move(.02)),l.logics.push(new MyDef.logic.Shoot({interval:2.6*MyDef.fps-1,shots:[{per:100,type:MyDef.Ball.Type.DAMAGE,speed:1,rad:24}]})),m=c.addChild(new MyDef.Shooter({circle:h,degree:110})),m.logics.push(new MyDef.logic.Move(-.8)),m.logics.push(new MyDef.logic.Shoot({interval:.7*MyDef.fps+0,shots:[{per:100,type:MyDef.Ball.Type.DAMAGE,speed:1.6,rad:7.5}]})),j.logics.push(new MyDef.logic.AimTarget({x:c.centerX,y:c.centerY})),k.logics.push(new MyDef.logic.AimTarget({x:c.centerX,y:c.centerY})),l.logics.push(new MyDef.logic.AimTarget({x:c.centerX,y:c.centerY})),m.logics.push(new MyDef.logic.AimTarget(g));break;case"labo1":j=c.addChild(new MyDef.Shooter({circle:h,degree:0})),j.logics.push(new MyDef.logic.Move(.1)),j.logics.push(new MyDef.logic.Shoot({interval:1.1*MyDef.fps+1,shots:[{per:95,type:MyDef.Ball.Type.DAMAGE,speed:3,rad:7.5},{per:5,type:MyDef.Ball.Type.HEAL,speed:1,rad:7.5}]})),k=c.addChild(new MyDef.Shooter({circle:h,degree:90})),k.logics.push(new MyDef.logic.Move(.3)),k.logics.push(new MyDef.logic.Shoot({interval:1.1*MyDef.fps+0,shots:[{per:95,type:MyDef.Ball.Type.DAMAGE,speed:3,rad:7.5},{per:5,type:MyDef.Ball.Type.HEAL,speed:1,rad:7.5}]})),l=c.addChild(new MyDef.Shooter({circle:h,degree:180})),l.logics.push(new MyDef.logic.Move(.6)),l.logics.push(new MyDef.logic.Shoot({interval:1.1*MyDef.fps-1,shots:[{per:95,type:MyDef.Ball.Type.DAMAGE,speed:3,rad:7.5},{per:5,type:MyDef.Ball.Type.HEAL,speed:1,rad:7.5}]})),j.logics.push(new MyDef.logic.AimTarget(g)),k.logics.push(new MyDef.logic.AimTarget(g)),l.logics.push(new MyDef.logic.AimTarget(g))}var p=MyGlobal.stageManager=c.addChild(new MyDef.StageManager({stage_name:a}));p.y=0,p.x=0;var q=MyGlobal.stage.addChild(b());q.x=52,q.y=124;var r=MyGlobal.stage.addChild(new MyDef.PauseButton);r.x=MyGlobal.stage.width-52,r.y=124,document.addEventListener("keypress",e,!1),document.addEventListener("keyup",f,!1),c.addEventListener("stagemousedown",e,!1),c.addEventListener("stagemouseup",f,!1)},b=function(){var a=new MyDef.Button,b=46,c=6;a.graphics.beginFill(MyDef.bgColor).drawCircle(0,0,b),a.graphics.beginStroke("gray").setStrokeStyle(c).drawCircle(0,0,b);var d=16;a.graphics.beginStroke(MyDef.eaterColor),a.graphics.moveTo(-d,-d),a.graphics.lineTo(+d,+d),a.graphics.moveTo(+d,-d),a.graphics.lineTo(-d,+d),a.setCallBack(function(){createjs.Ticker.setPaused(!1),MyGlobal.stageManager.selfDestruct()
});var e=b+c;return a.cache(-e,-e,2*e,2*e),a},c=MyDef.EndGame=function(){var a=MyGlobal.stage;document.removeEventListener("keypress",e,!1),document.removeEventListener("keyup",f,!1),a.removeAllEventListeners(),a.removeAllChildren()},d=function(){c(),setTimeout(function(){a(MyGlobal.current_stage_name)},0)},e=function(a){var b=String.fromCharCode(a.which).toUpperCase();if("R"==b){var c=MyGlobal.stageManager;if(1==c.isGameOver&&0==c.waitDispGameOver)return void MyGlobal.retry()}MyGlobal.player.accele()},f=function(){MyGlobal.player.idle()}}(),function(){"use strict";var a=function(a){this.initialize(a)};window.MyDef.StageButton=a;var b=createjs.Container;a.prototype=new b,a.prototype.initialize=function(a){b.prototype.initialize.call(this),this.stage_name=a.text;var c=MyUt.OR(a.bg_color,"orange"),d=60,e=MyUt.OR(a.text,"XXX"),f=36,g=MyUt.OR(a.text_color,"white"),h=new createjs.Shape;h.graphics.beginFill(c).beginStroke(MyDef.healColorShadow).setStrokeStyle(4).drawCircle(0,0,d),this.addChild(h);var i=new createjs.Text(e,"bold "+f+"px Arial",g);i.textAlign="center",i.textBaseline="middle",this.addChild(i);var j=MyDef.Data.getStageBestScore(this.stage_name);if(null!==j){var k=new MyDef.edged_text("Best:"+j.toFixed(2),"bold 20px Arial","white","black",2,"center");k.textAlign="center",k.textBaseline="middle",k.y=1.1*d,this.addChild(k);var l=MyDef.getRank(j);k=new MyDef.edged_text("("+l+")","bold 16px Arial","white","black",2,"center"),k.textAlign="center",k.textBaseline="middle",k.y=1.1*d+20,this.addChild(k)}this.setCallBack(a.call_back)},a.prototype._tick=function(){createjs.Ticker.getPaused()||b.prototype._tick.call(this)},a.prototype.setCallBack=function(a){var b=a,c=this.stage_name;this.addEventListener("click",function(){b(c)})}}(),function(){"use strict";var a=(MyDef.StartSelectStage=function(){{var a,e=MyGlobal.stage,f=10,g=30,h=180,i=540,j=180,k=MyDef.healColor,l=(MyDef.healColorShadow,"white");e.addChild(new MyDef.Border({x:i,y:j,rad:170,color:"gray",rad2:190,color2:"gray"}))}a=e.addChild(new createjs.Text("Rain Eater","bold 52px Arial",k)),a.x=f,a.y=10;var m=90;a=e.addChild(new MyDef.edged_text("Jet:","bold 36px Arial",MyDef.eaterColor,MyDef.eaterColorShadow)),a.x=g,a.y=m,MyGlobal.player=a=e.addChild(new MyDef.PlayerBall),a.x=i,a.y=j,a=e.addChild(new MyDef.edged_text("Press Any Area (Click or Tap).","bold 28px Arial",MyDef.eaterColor,MyDef.eaterColorShadow)),a.x=h-30,a.y=m+5,a=e.addChild(new MyDef.edged_text("Press Any Key.","bold 28px Arial",MyDef.eaterColor,MyDef.eaterColorShadow)),a.x=h-30,a.y=m+40,m=210,a=e.addChild(new MyDef.edged_text("Rule:","bold 36px Arial",l)),a.x=g,a.y=m,a=e.addChild(new MyDef.Ball({type:MyDef.Ball.Type.DAMAGE,rad:12})),a.x=h,a.y=m+20,a._tick=function(){},a=e.addChild(new MyDef.edged_text("-10s","bold 28px Arial",l)),a.x=h+30,a.y=m+5,a=e.addChild(new MyDef.Ball({type:MyDef.Ball.Type.HEAL,rad:12})),a.x=h+140,a.y=m+20,a._tick=function(){},a=e.addChild(new MyDef.edged_text("+10s","bold 28px Arial",k)),a.x=h+30+140,a.y=m+5,a=e.addChild(new MyDef.StageButton({bg_color:k,text:"A-1",text_color:"black",call_back:b})),a.x=.2*e.width,a.y=420,a=e.addChild(new MyDef.StageButton({bg_color:k,text:"A-2",text_color:"black",call_back:b})),a.x=e.width/2,a.y=420,a=e.addChild(new MyDef.StageButton({bg_color:k,text:"B-2",text_color:"black",call_back:b})),a.x=.8*e.width,a.y=420,a=e.addChild(new MyDef.StageButton({bg_color:k,text:"C-3",text_color:"black",call_back:b})),a.x=.2*e.width,a.y=600,a=e.addChild(new MyDef.StageButton({bg_color:k,text:"labo",text_color:"black",call_back:b})),a.x=.5*e.width,a.y=600;var n=28;a=e.addChild(new createjs.Text("Over   60pt: Good","22px Arial","gray")),a.x=e.width-220,a.y=e.height-3*n,a=e.addChild(new createjs.Text("Over 100pt: Great","22px Arial","gray")),a.x=e.width-220,a.y=e.height-2*n,a=e.addChild(new createjs.Text("Over 150pt: Master","22px Arial","gray")),a.x=e.width-220,a.y=e.height-n,document.addEventListener("keypress",c,!1),document.addEventListener("keyup",d,!1),e.addEventListener("stagemousedown",c,!1),e.addEventListener("stagemouseup",d,!1)},function(){var a=MyGlobal.stage;document.removeEventListener("keypress",c,!1),document.removeEventListener("keyup",d,!1),a.removeAllEventListeners(),a.removeAllChildren()}),b=function(b){a(),MyDef.StartGame(b)},c=function(){MyGlobal.player.accele()},d=function(){MyGlobal.player.idle()}}();var MyGlobal=[];!function(){"use strict";function a(){createjs.Sound.registerSound("sound/damage5.mp3","collision"),createjs.Sound.registerSound("sound/damage4.mp3","damage"),createjs.Sound.registerSound("sound/coin05.mp3","gain"),createjs.Sound.registerSound("sound/destruction1.mp3","destruction"),createjs.Sound.registerSound("sound/handy_lasergun.mp3","accele")}MyGlobal.stage=[],MyGlobal.player=[];var b=[];window.OnLoad=function(){b=new Stats,b.setMode(0),b.domElement.style.position="relative";var d=document.getElementById("stats");d.appendChild(b.domElement),a(),c(),MyDef.StartSelectStage()};var c=function(){var a=document.getElementById("canvas");a.style.backgroundColor=MyDef.bgColor;var b=MyGlobal.stage=new createjs.Stage(a);b.width=b.canvas.width,b.height=b.canvas.height,b.centerX=b.canvas.width/2,b.centerY=b.canvas.height/2,createjs.Touch.isSupported()&&createjs.Touch.enable(b),createjs.Ticker.setFPS(MyDef.fps),createjs.Ticker.addEventListener("tick",d)},d=function(a){MyGlobal.stage.update(a),b.update()}}();